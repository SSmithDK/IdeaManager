<div class="container">
  <h1>Add an idea</h1>
  <div [hidden]="!hasError" class="alert alert-danger" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <strong>An error occured on the creation of your idea:</strong> {{errorMessage}}
  </div>
  <div class="row">
    <div class="col-8">
      <form (ngSubmit)="onSubmit(createIdeaForm)" #createIdeaForm="ngForm">
          <div class="form-group">
            <input type="text" id="title" class="form-control form-control-lg" minlength="5" required ngModel name="title" #title="ngModel"
                    aria-describedby="titleHelp" placeholder="Title">
            <small id="titleHelp" class="form-text text-muted">Give your idea a short title.</small>
            <div [hidden]="title.valid ||Â title.pristine" class="alert alert-info">A title of min. 5 characters is required.</div>
          </div>
      
          <div class="form-group">
            <textarea type="text" id="shortDesc" class="form-control" style="resize:none" rows="2" ngModel name="short_desc"
                      #short_desc="ngModel" aria-describedby="shortDescHelp" placeholder="Short description"></textarea>
            <small id="shortDescHelp" class="form-text text-muted">Provide a brief description of the idea.</small>
          </div>
      
          <div class="form-group">
            <textarea type="text" id="description" class="form-control" style="resize:none" rows="5" minlength="10" required ngModel
                    name="description" #description="ngModel" aria-describedby="descHelp" placeholder="Description"></textarea>
            <small id="descHelp" class="form-text text-muted">Provide a description of the idea.</small>
            <div [hidden]="description.valid || description.pristine" class="alert alert-info">A description of min. 10 characters is required.</div>
          </div>
          <div class="form-group">
              <tag-input name="tags" [(ngModel)]='items' theme="bootstrap" #tags="ngModel" [onTextChangeDebounce]="50">
                <tag-input-dropdown 
                  [autocompleteObservable]="autocompleteItems" 
                  [displayBy]="'title'" 
                  [identifyBy]="'id'" 
                  [focusFirstElement]="true">
                </tag-input-dropdown>
              </tag-input>
          </div>
          <button type="submit" class="btn btn-success" [disabled]="!createIdeaForm.form.valid">Create</button>
        </form>
    </div>
    <div class="col-4">
      <div class="alert alert-info" role="alert">
        <strong>Tip!</strong>
        <p>Make sure to give your idea a title that interests the other readers of the ideas. This way your idea is more likely to be seen.</p>
      </div>
    </div>
  </div>
</div>
